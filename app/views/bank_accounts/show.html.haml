%script{:crossorigin => "anonymous", :integrity => "sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo", :src => "https://code.jquery.com/jquery-3.3.1.slim.min.js"}
%script{:crossorigin => "anonymous", :integrity => "sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49", :src => "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"}
%script{:crossorigin => "anonymous", :integrity => "sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em", :src => "https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js"}
%link{:crossorigin => "anonymous", :href => "https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css", :integrity => "sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B", :rel => "stylesheet"}/
%h1
 Account Number: #{@bank_account.account_number}
 %small
  #{@bank_account.client}

= button_tag :new_transaction, id: "btn-new-transaction", class: "btn btn-primary" do
 New Transaction

%table.table.table-bordered
 %thead
  %tr
   %th Date of Transaction
   %th Transaction Type
   %th Amount
 %tbody
  - @bank_account.account_transactions.each do |t|
   %tr 
    %td  #{t.created_at}
    %td #{t.transaction_type}
    %td #{number_to_currency(t.amount, unit: "$")}
  %tr
   %th 
   %th Balance
   %th #{number_to_currency(@bank_account.balance, unit: "$")}
    

#modal-transaction.modal.fade.modal-fade
 .modal-dialog
  .modal-content
   .modal-header
    %button.close{type:'button', data:{dismiss:'modal'}}
     %span{aria:{hidden:'true'}}
      %i.fa.fa-close
     %span.sr-only Close
    %h4.modal-title
     New Transaction
    .modal-body
     .row
      .col-md-6
       %label
        Amount
      = text_field_tag :amount, 0.00, id: "input-amount", class: "form-control"
      .col-md-6
       %label
        Transaction %Type
      = select_tag :transaction_type, options_for_select(AccountTransaction::TRANSACTION_TYPES), id: "select-transaction-type", class: "form-control"
     .modal-footer
      %button.btn.btn-default{type:'button', data:{dismiss:'modal'}} Close
      %button.btn#btn-save.btn-primary{type:'button'} Save

  = javascript_include_tag "bank_accounts/Show"
  :javascript
    $(document).ready(function() {
      Show.init();
    });